{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.16.0/.schema/devbox.schema.json",
  "packages": [
    "cargo@latest",
    "rustc@latest",
    "rustfmt@latest",
    "clippy@latest",
    "rustup@latest"
  ],
  "shell": {
    "init_hook": [
      "echo 'ðŸ¤– Jarvis development environment loaded'",
      "echo ''",
      "echo 'Available commands:'",
      "echo '  devbox run build    - Build the project'",
      "echo '  devbox run dev      - Build and run Jarvis'",
      "echo '  devbox run check    - Run clippy and format check'",
      "echo '  devbox run fmt      - Format Rust code'",
      "echo '  devbox run test     - Run all tests'",
      "echo '  devbox run release  - Build optimized release binary'",
      "echo '  devbox run install  - Install Jarvis locally to ~/.local/bin'",
      "echo '  devbox run deploy-homebrew - Update Homebrew formula with latest release'",
      "echo ''"
    ],
    "scripts": {
      "build": [
        "cargo build"
      ],
      "dev": [
        "cargo run"
      ],
      "check": [
        "cargo clippy -- -D warnings",
        "cargo fmt -- --check"
      ],
      "fmt": [
        "cargo fmt"
      ],
      "test": [
        "cargo test",
        "cargo clippy -- -D warnings"
      ],
      "release": [
        "cargo build --release",
        "echo 'Binary available at: target/release/jarvis'"
      ],
      "install": [
        "cargo build --release",
        "mkdir -p ~/.local/bin",
        "cp target/release/jarvis ~/.local/bin/",
        "echo 'âœ… Jarvis installed to ~/.local/bin/jarvis'",
        "echo ''",
        "echo 'Make sure ~/.local/bin is in your PATH:'",
        "echo '  export PATH=\"$HOME/.local/bin:$PATH\"'"
      ],
      "deploy-homebrew": [
        "bash scripts/update-formula.sh"
      ]
    }
  }
}
